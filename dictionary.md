# IOC/DI  
作者：Ziphwy
链接：https://www.zhihu.com/question/27053548/answer/85060703

假如我们要实现一个存款的应用，那么，我们的思维是这么走的：  

1.写一个“存款类”，里面有“存款方法”，“存款方法”直接操作数据库实现存款逻辑。 

2.你突然发现，操作数据库的方法都是增删查改，为什么不写成一个类，让“存款方法”去调用这个操作数据库的类，减少了不少重复代码。（分层思想来了，业务逻辑和数据操作分离了）  

3.你的朋友知道了你在写这个应用，就跟你提意见，不如我帮你写操作数据库的类，你写存款业务的类，这样不就快了吗？我们约定一个接口，你调用这个接口，我实现这个接口，这样开发就很快了。（接口思想来了，调用方不必理会具体实现，专注于自己的逻辑）（工厂模式）  

4.你在写你的业务逻辑的时候，发现虽然你不用管数据操作逻辑的实现，但是在你的代码了，创建一个对象的语法：  
`接口 变量名 = new 实现类();`  
在做了那么多分离工作，还是要写new 实现类();，还是依赖于实现类。你就想，能不能做一个容器，自动帮我将实现类赋给接口呢？（依赖注入思想）于是，你写出了spring，一开始使用xml配置，在类里面只需要getBean()，接口和实现类和调用类基本分离了（松耦合形成了），后来xml你也懒得写，弄出一批注解，实现类注解一下是组件，调用类声明一个接口，写个@AutoWired，spring容器就帮你完成了将实现类赋给接口的工作，即所谓的spring帮你new了一个对象。  

